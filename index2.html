<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –Ω–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å –ì–∞—Ä—Ñ–∏–ª–¥–æ–º</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a3a 0%, #0d1520 100%);
            color: #f0f8ff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 1000px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .header {
            background: linear-gradient(90deg, #d35400 0%, #e67e22 100%);
            padding: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header h1 {
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            margin-bottom: 5px;
            color: #fff;
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .snowflakes {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .snowflake {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            opacity: 0.8;
        }
        
        .content {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 30px;
            gap: 30px;
        }
        
        .character-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        
        .garfield-container {
            width: 250px;
            height: 250px;
            border-radius: 50%;
            overflow: hidden;
            border: 8px solid #e67e22;
            box-shadow: 0 0 20px rgba(230, 126, 34, 0.7);
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        
        .garfield-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .speech-bubble {
            background-color: white;
            color: #333;
            padding: 20px;
            border-radius: 20px;
            max-width: 600px;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            font-size: 1.2rem;
            line-height: 1.5;
        }
        
        .speech-bubble:after {
            content: '';
            position: absolute;
            left: -20px;
            top: 50%;
            margin-top: -10px;
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-right: 20px solid white;
        }
        
        .results-section {
            display: none;
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            margin-bottom: 20px;
            width: 100%;
        }
        
        .results-section h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: #f1c40f;
        }
        
        .previous-results {
            font-size: 1.3rem;
            margin-bottom: 10px;
        }
        
        .score-display {
            font-size: 3rem;
            color: #e67e22;
            font-weight: bold;
            margin: 10px 0;
            text-shadow: 0 0 10px rgba(230, 126, 34, 0.5);
        }
        
        .attention-test-section {
            display: none;
            width: 100%;
        }
        
        .test-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #3498db 0%, #2980b9 100%);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .instructions {
            text-align: center;
            font-size: 1.3rem;
            margin-bottom: 25px;
            padding: 15px;
            background: rgba(52, 152, 219, 0.1);
            border-radius: 10px;
            border-left: 4px solid #3498db;
        }
        
        .images-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .image-option {
            width: 300px;
            height: 250px;
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            position: relative;
            background: rgba(255, 255, 255, 0.1);
        }
        
        @media (max-width: 768px) {
            .images-container {
                flex-direction: column;
                align-items: center;
            }
            
            .image-option {
                width: 100%;
                max-width: 300px;
            }
        }
        
        .image-option:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        
        .image-option.selected {
            border-color: #f1c40f;
            box-shadow: 0 0 20px rgba(241, 196, 15, 0.5);
        }
        
        .image-option.correct {
            border-color: #27ae60;
            box-shadow: 0 0 20px rgba(39, 174, 96, 0.5);
        }
        
        .image-option.incorrect {
            border-color: #e74c3c;
            box-shadow: 0 0 20px rgba(231, 76, 60, 0.5);
        }
        
        .image-option img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .image-number {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .buttons {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }
        
        button {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-start {
            background: linear-gradient(90deg, #3498db 0%, #2980b9 100%);
            color: white;
            font-size: 1.3rem;
            padding: 18px 40px;
        }
        
        .btn-start:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(52, 152, 219, 0.4);
        }
        
        .btn-next {
            background: linear-gradient(90deg, #27ae60 0%, #2ecc71 100%);
            color: white;
        }
        
        .btn-prev {
            background: linear-gradient(90deg, #7f8c8d 0%, #95a5a6 100%);
            color: white;
        }
        
        .btn-next:hover, .btn-prev:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .btn-next:disabled, .btn-prev:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .test-result-section {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .test-result-section h2 {
            font-size: 2.2rem;
            margin-bottom: 20px;
            color: #f1c40f;
        }
        
        .test-score {
            font-size: 4rem;
            color: #3498db;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 0 0 10px rgba(52, 152, 219, 0.5);
        }
        
        .test-message {
            font-size: 1.3rem;
            margin-bottom: 30px;
            max-width: 600px;
        }
        
        .result-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .btn-restart-test {
            background: linear-gradient(90deg, #3498db 0%, #2980b9 100%);
            color: white;
        }
        
        .btn-next-page {
            background: linear-gradient(90deg, #9b59b6 0%, #8e44ad 100%);
            color: white;
        }
        
        .btn-restart-test:hover, .btn-next-page:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .feedback {
            text-align: center;
            font-size: 1.2rem;
            margin-top: 15px;
            min-height: 30px;
            font-weight: bold;
        }
        
        .correct-feedback {
            color: #27ae60;
        }
        
        .incorrect-feedback {
            color: #e74c3c;
        }
        
        .festive-decoration {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: -1;
        }
        
        .decoration {
            position: absolute;
            font-size: 1.5rem;
        }
        
        .tree {
            color: #27ae60;
        }
        
        .star {
            color: #f1c40f;
        }
        
        .bell {
            color: #f39c12;
        }
        
        .gift {
            color: #e74c3c;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            font-size: 0.9rem;
            opacity: 0.7;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        .garfield-container {
            animation: bounce 3s infinite ease-in-out;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
        
        .star {
            animation: twinkle 2s infinite ease-in-out;
        }
        
        .congrats-message {
            background: linear-gradient(90deg, #ff0000, #ff9900, #ffff00, #00ff00, #00ffff, #0000ff, #9900ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: bold;
            font-size: 1.5rem;
            margin: 15px 0;
            animation: rainbow 3s infinite linear;
        }
        
        @keyframes rainbow {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }
        
        .image-label {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px;
            text-align: center;
            font-size: 1.1rem;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-eye"></i> –¢–µ—Å—Ç –Ω–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å <i class="fas fa-search"></i></h1>
            <p>–ì–∞—Ä—Ñ–∏–ª–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞—à—É –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å!</p>
            
            <div class="snowflakes" id="snowflakes"></div>
        </div>
        
        <div class="content">
            <div class="character-section" id="characterSection">
                <div class="garfield-container">
                    <img src="images/icon.png" alt="–ì–∞—Ä—Ñ–∏–ª–¥" id="garfieldImage">
                </div>
                
                <div class="speech-bubble" id="welcomeMessage">
                    –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç–µ—Å—Ç–∞...
                </div>
                
                <button class="btn-start" id="startBtn">
                    <i class="fas fa-play-circle"></i> –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç –Ω–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
                </button>
                
                <div class="instructions">
                    –í–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –≤—ã–±—Ä–∞—Ç—å –ª–∏—à–Ω–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ —Ç—Ä–µ—Ö. –í—Å–µ–≥–æ 5 –∑–∞–¥–∞–Ω–∏–π!
                </div>
            </div>
            
            <div class="results-section" id="resultsSection">
                <h3>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–π –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã</h3>
                <div class="score-display" id="quizScoreDisplay">0/10</div>
                <div class="previous-results" id="previousResults"></div>
            </div>
            
            <div class="attention-test-section" id="attentionTestSection">
                <div class="test-header">
                    <div class="question-counter">
                        –ó–∞–¥–∞–Ω–∏–µ <span id="currentTask">1</span> –∏–∑ 5
                    </div>
                    <div class="score-counter">
                        –ü—Ä–∞–≤–∏–ª—å–Ω–æ: <span id="currentCorrect">0</span>
                    </div>
                </div>
                
                <div class="progress-bar">
                    <div class="progress" id="progressBar"></div>
                </div>
                
                <div class="instructions" id="taskInstructions">
                    –í—ã–±–µ—Ä–∏—Ç–µ –ª–∏—à–Ω–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
                </div>
                
                <div class="images-container" id="imagesContainer">
                    <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
                
                <div class="feedback" id="feedback"></div>
                
                <div class="buttons">
                    <button class="btn-prev" id="prevBtn" disabled>
                        <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                    </button>
                    <button class="btn-next" id="nextBtn" disabled>
                        –î–∞–ª–µ–µ <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
            
            <div class="test-result-section" id="testResultSection">
                <h2>–¢–µ—Å—Ç –Ω–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω!</h2>
                <div class="test-score" id="finalTestScore">0/5</div>
                <div class="congrats-message" id="testCongratsMessage"></div>
                <div class="test-message" id="testResultMessage">
                    –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å
                </div>
                
                <div class="result-buttons">
                    <button class="btn-restart-test" id="restartTestBtn">
                        <i class="fas fa-redo"></i> –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç –∑–∞–Ω–æ–≤–æ
                    </button>
                    <button class="btn-next-page" id="nextPageBtn">
                        <i class="fas fa-arrow-right"></i> –ü–µ—Ä–µ–π—Ç–∏ –¥–∞–ª—å—à–µ
                    </button>
                </div>
                
                <div class="instructions" style="margin-top: 20px;">
                    –ù–∞–∂–º–∏—Ç–µ "–ü–µ—Ä–µ–π—Ç–∏ –¥–∞–ª—å—à–µ", —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>–¢–µ—Å—Ç –Ω–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å –ì–∞—Ä—Ñ–∏–ª–¥–æ–º ¬© 2026</p>
            <p>–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É</p>
        </div>
    </div>
    
    <div class="festive-decoration" id="decoration"></div>

    <script>
        // –ó–∞–¥–∞–Ω–∏—è –¥–ª—è —Ç–µ—Å—Ç–∞ –Ω–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
        const attentionTasks = [
            {
                category: "–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ –±–ª—é–¥–∞",
                description: "–í—ã–±–µ—Ä–∏—Ç–µ –ª–∏—à–Ω–µ–µ –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–µ –±–ª—é–¥–æ:",
                images: [
                    {url: "https://img.vkusvill.ru/pim/images/site/site_LargeWebP/0cdba28c-ed73-4840-bb28-3e62da8dba05.webp", label: "–û–ª–∏–≤—å–µ", correct: false},
                    {url: "https://avatars.mds.yandex.net/get-altay/11420721/2a0000018e74879e0199b0937662f5af7b94/orig", label: "–ü–∏—Ü—Ü–∞", correct: true},
                    {url: "https://avatars.mds.yandex.net/i?id=14a8643c077f8807b6e7b696a558da53_l-4615214-images-thumbs&n=13", label: "–°–µ–ª—å–¥—å –ø–æ–¥ —à—É–±–æ–π", correct: false}
                ]
            },
            {
                category: "–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã",
                description: "–í—ã–±–µ—Ä–∏—Ç–µ –ª–∏—à–Ω–∏–π –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π —Å–∏–º–≤–æ–ª:",
                images: [
                    {url: "https://i.pinimg.com/736x/06/a1/cf/06a1cfea856be40925e164a4110a6454.jpg", label: "–ù–æ–≤–æ–≥–æ–¥–Ω—è—è —ë–ª–∫–∞", correct: false},
                    {url: "https://avatars.mds.yandex.net/i?id=6ff16e7f03a68356aa58c205cc2a124eb106b13e-9152477-images-thumbs&n=13", label: "–†–∞–¥—É–≥–∞", correct: true},
                    {url: "https://cs5.livemaster.ru/storage/e2/5f/96ca89ae585840bfce240b6758fa--suveniry-i-podarki-ded-moroz-i-snegurochka-50-sm.jpg", label: "–î–µ–¥ –ú–æ—Ä–æ–∑", correct: false}
                ]
            },
            {
                category: "–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ –Ω–∞–ø–∏—Ç–∫–∏",
                description: "–í—ã–±–µ—Ä–∏—Ç–µ –ª–∏—à–Ω–∏–π –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –Ω–∞–ø–∏—Ç–æ–∫:",
                images: [
                    {url: "https://i.pinimg.com/736x/fa/9e/b8/fa9eb81466ec8c3e5c5e25bfb6f2ca6f.jpg", label: "–®–∞–º–ø–∞–Ω—Å–∫–æ–µ", correct: false},
                    {url: "https://avatars.mds.yandex.net/i?id=9ce0ff30fa962db5d239b6542af7c013fb98cd57-12347089-images-thumbs&n=13", label: "–ú–∞–Ω–¥–∞—Ä–∏–Ω–æ–≤—ã–π —Å–æ–∫", correct: false},
                    {url: "https://i.pinimg.com/736x/c3/7a/a7/c37aa7e83617e3587ebe651922270710.jpg", label: "–ö–æ–∫–∞-–∫–æ–ª–∞", correct: true}
                ]
            },
            {
                category: "–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ —É–∫—Ä–∞—à–µ–Ω–∏—è",
                description: "–í—ã–±–µ—Ä–∏—Ç–µ –ª–∏—à–Ω–µ–µ –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–µ —É–∫—Ä–∞—à–µ–Ω–∏–µ:",
                images: [
                    {url: "https://cs1.livemaster.ru/storage/fa/4f/9e946d4ee25ceb405a01d67d0bkz--vintazh-nabor-iz-2-h-sharov-garfild-1.jpg", label: "–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ —à–∞—Ä—ã", correct: false},
                    {url: "https://avatars.mds.yandex.net/get-mpic/16454321/2a00000198a0b3fe8a62d28ff83963f3c839/orig", label: "–ì–∏—Ä–ª—è–Ω–¥–∞", correct: false},
                    {url: "https://avatars.mds.yandex.net/i?id=4d64ea1b2bff08c300d37788f5aaf1cc01dd80f1-5434958-images-thumbs&n=13", label: "–ö–æ–º–ø—å—é—Ç–µ—Ä", correct: true}
                ]
            },
            {
                category: "–ó–∏–º–Ω–∏–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞",
                description: "–í—ã–±–µ—Ä–∏—Ç–µ –ª–∏—à–Ω–∏–π –∑–∏–º–Ω–∏–π –≤–∏–¥ —Å–ø–æ—Ä—Ç–∞:",
                images: [
                    {url: "https://i.pinimg.com/474x/56/4e/f0/564ef09b24e11a542c40c179356a1591.jpg?nii=t", label: "–õ—ã–∂–∏", correct: false},
                    {url: "https://i.pinimg.com/originals/f1/aa/8a/f1aa8af5a631a8c69309604791832398.jpg", label: "–°–Ω–æ—É–±–æ—Ä–¥", correct: false},
                    {url: "https://i.pinimg.com/736x/da/c9/f4/dac9f4402f064808b5dd821dd1b7bed9.jpg", label: "–ü–ª–∞–≤–∞–Ω–∏–µ", correct: true}
                ]
            }
        ];

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const characterSection = document.getElementById('characterSection');
        const resultsSection = document.getElementById('resultsSection');
        const attentionTestSection = document.getElementById('attentionTestSection');
        const testResultSection = document.getElementById('testResultSection');
        const startBtn = document.getElementById('startBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const restartTestBtn = document.getElementById('restartTestBtn');
        const nextPageBtn = document.getElementById('nextPageBtn');
        const welcomeMessage = document.getElementById('welcomeMessage');
        const quizScoreDisplay = document.getElementById('quizScoreDisplay');
        const previousResults = document.getElementById('previousResults');
        const taskInstructions = document.getElementById('taskInstructions');
        const imagesContainer = document.getElementById('imagesContainer');
        const currentTaskElement = document.getElementById('currentTask');
        const currentCorrectElement = document.getElementById('currentCorrect');
        const progressBar = document.getElementById('progressBar');
        const feedback = document.getElementById('feedback');
        const finalTestScore = document.getElementById('finalTestScore');
        const testCongratsMessage = document.getElementById('testCongratsMessage');
        const testResultMessage = document.getElementById('testResultMessage');
        const snowflakesContainer = document.getElementById('snowflakes');
        const decorationContainer = document.getElementById('decoration');
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
        let currentTask = 0;
        let correctAnswers = 0;
        let userSelections = new Array(attentionTasks.length).fill(null);
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç–µ—Å—Ç–∞
        function loadPreviousResults() {
            const quizScore = localStorage.getItem('quizScore') || 0;
            const quizTotal = localStorage.getItem('quizTotal') || 10;
            const quizAnswers = JSON.parse(localStorage.getItem('quizAnswers') || '[]');
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            quizScoreDisplay.textContent = `${quizScore}/${quizTotal}`;
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ì–∞—Ä—Ñ–∏–ª–¥–∞
            let message = '';
            if (quizScore >= quizTotal * 0.7) {
                message = `–û—Ç–ª–∏—á–Ω–æ! –¢—ã –Ω–∞–±—Ä–∞–ª–∞ ${quizScore} –∏–∑ ${quizTotal} –±–∞–ª–ª–æ–≤ –≤ –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–π –≤–∏–∫—Ç–æ—Ä–∏–Ω–µ! –¢—ã –Ω–∞—Å—Ç–æ—è—â–∏–π –∑–Ω–∞—Ç–æ–∫ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏—Ö —Ç—Ä–∞–¥–∏—Ü–∏–π! –ê —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä–∏–º —Ç–≤–æ—é –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å.`;
            } else if (quizScore >= quizTotal * 0.5) {
                message = `–•–æ—Ä–æ—à–æ! –¢—ã –Ω–∞–±—Ä–∞–ª–∞ ${quizScore} –∏–∑ ${quizTotal} –±–∞–ª–ª–æ–≤ –≤ –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–π –≤–∏–∫—Ç–æ—Ä–∏–Ω–µ! –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π –ø—Ä–æ–≤–µ—Ä–∏–º, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ç—ã –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π.`;
            } else {
                message = `–¢—ã –Ω–∞–±—Ä–∞–ª–∞ ${quizScore} –∏–∑ ${quizTotal} –±–∞–ª–ª–æ–≤ –≤ –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–π –≤–∏–∫—Ç–æ—Ä–∏–Ω–µ. –ù–µ –±–µ–¥–∞! –í–æ–∑–º–æ–∂–Ω–æ, —Ç–µ–±–µ –±–æ–ª—å—à–µ –ø–æ–≤–µ–∑–µ—Ç –≤ —Ç–µ—Å—Ç–µ –Ω–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å.`;
            }
            
            welcomeMessage.innerHTML = message;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç–µ—Å—Ç–∞
            resultsSection.style.display = 'block';
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º
            let resultsText = '<div style="text-align: left; max-width: 600px; margin: 0 auto;">';
            resultsText += '<p style="margin-bottom: 10px;">–í–∞—à–∏ –æ—Ç–≤–µ—Ç—ã –≤ –≤–∏–∫—Ç–æ—Ä–∏–Ω–µ:</p>';
            
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ –æ—Ç–≤–µ—Ç–∞–º, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            resultsText += '<p>–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª–∏ –Ω–æ–≤–æ–≥–æ–¥–Ω—é—é –≤–∏–∫—Ç–æ—Ä–∏–Ω—É!</p>';
            resultsText += '</div>';
            
            previousResults.innerHTML = resultsText;
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–Ω–µ–∂–∏–Ω–æ–∫
        function createSnowflakes() {
            for (let i = 0; i < 50; i++) {
                const snowflake = document.createElement('div');
                snowflake.classList.add('snowflake');
                
                const size = Math.random() * 5 + 3;
                snowflake.style.width = `${size}px`;
                snowflake.style.height = `${size}px`;
                
                snowflake.style.left = `${Math.random() * 100}%`;
                snowflake.style.top = `${Math.random() * 100}%`;
                
                const opacity = Math.random() * 0.5 + 0.3;
                snowflake.style.opacity = opacity.toString();
                
                const animationDuration = Math.random() * 10 + 10;
                snowflake.style.animation = `fall ${animationDuration}s linear infinite`;
                
                snowflakesContainer.appendChild(snowflake);
            }
        }
        
        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ CSS –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–Ω–µ–∂–∏–Ω–æ–∫
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fall {
                0% {
                    transform: translateY(-100px) rotate(0deg);
                    opacity: 1;
                }
                100% {
                    transform: translateY(100vh) rotate(360deg);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏—Ö —É–∫—Ä–∞—à–µ–Ω–∏–π
        function createDecorations() {
            const decorations = [
                {class: 'tree', icon: 'fas fa-tree'},
                {class: 'star', icon: 'fas fa-star'},
                {class: 'bell', icon: 'fas fa-bell'},
                {class: 'gift', icon: 'fas fa-gift'}
            ];
            
            for (let i = 0; i < 15; i++) {
                const decoration = document.createElement('div');
                decoration.classList.add('decoration');
                
                const randomDeco = decorations[Math.floor(Math.random() * decorations.length)];
                decoration.classList.add(randomDeco.class);
                
                decoration.innerHTML = `<i class="${randomDeco.icon}"></i>`;
                
                decoration.style.left = `${Math.random() * 100}%`;
                decoration.style.top = `${Math.random() * 100}%`;
                decoration.style.fontSize = `${Math.random() * 20 + 15}px`;
                decoration.style.opacity = Math.random() * 0.5 + 0.3;
                
                decorationContainer.appendChild(decoration);
            }
        }
        
        // –ù–∞—á–∞–ª–æ —Ç–µ—Å—Ç–∞ –Ω–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
        function startTest() {
            characterSection.style.display = 'none';
            attentionTestSection.style.display = 'block';
            loadTask();
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞–Ω–∏—è
        function loadTask() {
            const task = attentionTasks[currentTask];
            taskInstructions.innerHTML = `<strong>${task.category}:</strong> ${task.description}`;
            
            currentTaskElement.textContent = currentTask + 1;
            currentCorrectElement.textContent = correctAnswers;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
            progressBar.style.width = `${((currentTask + 1) / attentionTasks.length) * 100}%`;
            
            // –û—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
            imagesContainer.innerHTML = '';
            feedback.textContent = '';
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
            task.images.forEach((image, index) => {
                const imageOption = document.createElement('div');
                imageOption.classList.add('image-option');
                
                if (userSelections[currentTask] === index) {
                    imageOption.classList.add('selected');
                }
                
                imageOption.dataset.index = index;
                imageOption.dataset.correct = image.correct;
                
                imageOption.innerHTML = `
                    <div class="image-number">${index + 1}</div>
                    <img src="${image.url}" alt="${image.label}" onerror="this.src='https://via.placeholder.com/300x250/333/fff?text=–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ+–Ω–µ+–∑–∞–≥—Ä—É–∂–µ–Ω–æ'">
                    <div class="image-label">${image.label}</div>
                `;
                
                imageOption.addEventListener('click', () => selectImage(index));
                imagesContainer.appendChild(imageOption);
            });
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫
            prevBtn.disabled = currentTask === 0;
            nextBtn.disabled = userSelections[currentTask] === null;
            
            // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–Ω–æ–ø–∫–µ
            if (currentTask === attentionTasks.length - 1) {
                nextBtn.innerHTML = '–ó–∞–≤–µ—Ä—à–∏—Ç—å <i class="fas fa-check"></i>';
            } else {
                nextBtn.innerHTML = '–î–∞–ª–µ–µ <i class="fas fa-arrow-right"></i>';
            }
        }
        
        // –í—ã–±–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        function selectImage(index) {
            // –°–±—Ä–æ—Å –≤—ã–±–æ—Ä–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è
            const imageOptions = document.querySelectorAll('.image-option');
            imageOptions.forEach(option => {
                option.classList.remove('selected');
                option.classList.remove('correct');
                option.classList.remove('incorrect');
            });
            
            // –í—ã–±–æ—Ä –Ω–æ–≤–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞
            const selectedOption = imageOptions[index];
            selectedOption.classList.add('selected');
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –≤—ã–±–æ—Ä–∞
            const isCorrect = selectedOption.dataset.correct === 'true';
            
            // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç—ã
            imageOptions.forEach(option => {
                if (option.dataset.correct === 'true') {
                    option.classList.add('correct');
                } else if (option === selectedOption && !isCorrect) {
                    option.classList.add('incorrect');
                }
            });
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            userSelections[currentTask] = index;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å
            if (isCorrect) {
                feedback.textContent = '–í–µ—Ä–Ω–æ! –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏—à–Ω–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.';
                feedback.className = 'feedback correct-feedback';
                
                // –ï—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤–æ–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è —ç—Ç–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è, —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
                if (userSelections[currentTask] !== null && userSelections[currentTask] === index) {
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∑–∞—Å—á–∏—Ç—ã–≤–∞–ª–∏ –ª–∏ –º—ã —É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –¥–ª—è —ç—Ç–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è
                    let alreadyCounted = false;
                    for (let i = 0; i < currentTask; i++) {
                        if (i === currentTask && userSelections[i] === index) {
                            alreadyCounted = true;
                            break;
                        }
                    }
                    
                    if (!alreadyCounted) {
                        correctAnswers++;
                        currentCorrectElement.textContent = correctAnswers;
                    }
                }
            } else {
                feedback.textContent = '–ù–µ–≤–µ—Ä–Ω–æ. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.';
                feedback.className = 'feedback incorrect-feedback';
            }
            
            // –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏ "–î–∞–ª–µ–µ"
            nextBtn.disabled = false;
        }
        
        // –°–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ
        function nextTask() {
            if (currentTask < attentionTasks.length - 1) {
                currentTask++;
                loadTask();
            } else {
                // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞
                showTestResults();
            }
        }
        
        // –ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ
        function prevTask() {
            if (currentTask > 0) {
                currentTask--;
                loadTask();
            }
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞
        function showTestResults() {
            attentionTestSection.style.display = 'none';
            testResultSection.style.display = 'block';
            
            finalTestScore.textContent = `${correctAnswers}/${attentionTasks.length}`;
            
            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            let message = '';
            let congratsMessage = '';
            
            if (correctAnswers === attentionTasks.length) {
                congratsMessage = 'üéâ –ò–î–ï–ê–õ–¨–ù–ê–Ø –í–ù–ò–ú–ê–¢–ï–õ–¨–ù–û–°–¢–¨! üéâ';
                message = '–ü–æ—Ç—Ä—è—Å–∞—é—â–µ! –í—ã –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã! –ì–∞—Ä—Ñ–∏–ª–¥ –≤–ø–µ—á–∞—Ç–ª—ë–Ω –∏ –≥–æ—Ç–æ–≤ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å –≤–∞–º–∏ —Å–≤–æ–µ–π –ª–∞–∑–∞–Ω—å–µ–π!';
            } else if (correctAnswers >= attentionTasks.length * 0.7) {
                congratsMessage = 'üéä –û–¢–õ–ò–ß–ù–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢! üéä';
                message = '–û—Ç–ª–∏—á–Ω–æ! –í—ã –æ—á–µ–Ω—å –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π —á–µ–ª–æ–≤–µ–∫! –ì–∞—Ä—Ñ–∏–ª–¥ –æ–¥–æ–±—Ä—è–µ—Ç –≤–∞—à—É –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å.';
            } else if (correctAnswers >= attentionTasks.length * 0.5) {
                congratsMessage = 'üëç –•–û–†–û–®–ê–Ø –í–ù–ò–ú–ê–¢–ï–õ–¨–ù–û–°–¢–¨! üëç';
                message = '–•–æ—Ä–æ—à–æ! –í—ã –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã, –Ω–æ –µ—Å—Ç—å –∫—É–¥–∞ —Ä–∞—Å—Ç–∏. –ì–∞—Ä—Ñ–∏–ª–¥ –≤–µ—Ä–∏—Ç, —á—Ç–æ –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –≤—ã –±—É–¥–µ—Ç–µ –µ—â–µ –ª—É—á—à–µ!';
            } else {
                congratsMessage = 'üéÑ –ü–û–ü–†–ê–ö–¢–ò–ö–£–ô–¢–ï–°–¨ –ï–©–Å! üéÑ';
                message = '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑! –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–æ–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å. –ì–∞—Ä—Ñ–∏–ª–¥ —É–≤–µ—Ä–µ–Ω, —á—Ç–æ —É –≤–∞—Å –ø–æ–ª—É—á–∏—Ç—Å—è –ª—É—á—à–µ!';
            }
            
            testCongratsMessage.textContent = congratsMessage;
            testResultMessage.textContent = message;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ –≤ localStorage
            localStorage.setItem('attentionTestScore', correctAnswers);
            localStorage.setItem('attentionTestTotal', attentionTasks.length);
        }
        
        // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
        function goToNextPage() {
            // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
            window.location.href = 'index3.html';
        }
        
        // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞
        function restartTest() {
            currentTask = 0;
            correctAnswers = 0;
            userSelections.fill(null);
            
            testResultSection.style.display = 'none';
            attentionTestSection.style.display = 'block';
            
            loadTask();
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        startBtn.addEventListener('click', startTest);
        prevBtn.addEventListener('click', prevTask);
        nextBtn.addEventListener('click', nextTask);
        restartTestBtn.addEventListener('click', restartTest);
        nextPageBtn.addEventListener('click', goToNextPage);
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        createSnowflakes();
        createDecorations();
        loadPreviousResults();
        
        // –ó–∞–º–µ–Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ì–∞—Ä—Ñ–∏–ª–¥–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏
        document.getElementById('garfieldImage').onerror = function() {
            this.src = 'images/icon.png';
        };
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ index3.html –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        window.addEventListener('load', function() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Å–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
            fetch('index3.html')
                .then(response => {
                    if (!response.ok) {
                        console.warn('–°—Ç—Ä–∞–Ω–∏—Ü–∞ index3.html –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –°–æ–∑–¥–∞–π—Ç–µ –µ—ë –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞.');
                    }
                })
                .catch(error => {
                    console.warn('–°—Ç—Ä–∞–Ω–∏—Ü–∞ index3.html –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –°–æ–∑–¥–∞–π—Ç–µ –µ—ë –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞.');
                });
        });
    </script>
</body>
</html>