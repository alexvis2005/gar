<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–æ–≤–æ–≥–æ–¥–Ω—è—è –∏–≥—Ä–∞: –õ–æ–≤–µ—Ü –ø–æ–¥–∞—Ä–∫–æ–≤ —Å –ì–∞—Ä—Ñ–∏–ª–¥–æ–º</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-tap-highlight-color: transparent;
            -webkit-user-select: none;
            user-select: none;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a3a 0%, #0d1520 100%);
            color: #f0f8ff;
            min-height: 100vh;
            padding: 15px;
            overflow-x: hidden;
            touch-action: manipulation;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin: 0 auto;
        }
        
        .header {
            background: linear-gradient(90deg, #d35400 0%, #e67e22 100%);
            padding: 15px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header h1 {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            margin-bottom: 5px;
            color: #fff;
        }
        
        .header p {
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            opacity: 0.9;
        }
        
        .snowflakes {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .snowflake {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            opacity: 0.8;
        }
        
        .content {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            gap: 20px;
        }
        
        .character-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            width: 100%;
        }
        
        .garfield-container {
            width: clamp(120px, 30vw, 200px);
            height: clamp(120px, 30vw, 200px);
            border-radius: 50%;
            overflow: hidden;
            border: 6px solid #e67e22;
            box-shadow: 0 0 20px rgba(230, 126, 34, 0.7);
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        
        .garfield-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .speech-bubble {
            background-color: white;
            color: #333;
            padding: clamp(15px, 3vw, 20px);
            border-radius: 20px;
            max-width: 600px;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            line-height: 1.5;
            text-align: center;
            width: 100%;
        }
        
        .speech-bubble:after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: -20px;
            margin-left: -10px;
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 20px solid white;
        }
        
        .game-section {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        .game-title {
            font-size: clamp(1.5rem, 4vw, 2.2rem);
            color: #f1c40f;
            margin-bottom: 5px;
            text-align: center;
        }
        
        .game-instructions {
            text-align: center;
            font-size: clamp(0.9rem, 2.5vw, 1.1rem);
            margin-bottom: 10px;
            padding: 12px;
            background: rgba(52, 152, 219, 0.1);
            border-radius: 10px;
            border-left: 4px solid #3498db;
            max-width: 800px;
            width: 100%;
        }
        
        .game-stats {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 800px;
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 15px;
            gap: 10px;
        }
        
        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            flex: 1;
        }
        
        .stat-value {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: bold;
            color: #f1c40f;
        }
        
        .stat-label {
            font-size: clamp(0.8rem, 2vw, 1rem);
            color: #bdc3c7;
            text-align: center;
        }
        
        .game-container {
            width: 100%;
            height: 45vh;
            min-height: 250px;
            max-height: 400px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            border: 3px solid #3498db;
            box-shadow: 0 0 30px rgba(52, 152, 219, 0.3);
            touch-action: pan-x;
        }
        
        @media (max-height: 700px) {
            .game-container {
                height: 35vh;
                min-height: 200px;
            }
        }
        
        @media (max-height: 600px) {
            .game-container {
                height: 30vh;
                min-height: 180px;
            }
        }
        
        .game-area {
            width: 100%;
            height: 100%;
            position: relative;
            overflow: hidden;
            touch-action: pan-x;
        }
        
        .catcher {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            width: clamp(80px, 25vw, 120px);
            height: clamp(40px, 12vw, 60px);
            background: linear-gradient(90deg, #e67e22 0%, #d35400 100%);
            border-radius: 20px 20px 10px 10px;
            transition: left 0.05s linear;
            z-index: 10;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            border: 3px solid #f1c40f;
            touch-action: none;
        }
        
        .catcher:after {
            content: '';
            position: absolute;
            top: -10px;
            width: clamp(100px, 30vw, 140px);
            height: clamp(15px, 4vw, 25px);
            background: linear-gradient(90deg, #e67e22 0%, #d35400 100%);
            border-radius: 15px;
            border: 3px solid #f1c40f;
        }
        
        .catcher-text {
            color: white;
            font-weight: bold;
            font-size: clamp(0.8rem, 2.5vw, 1rem);
            z-index: 11;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        }
        
        .gift {
            position: absolute;
            width: clamp(35px, 10vw, 50px);
            height: clamp(35px, 10vw, 50px);
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: clamp(1rem, 3vw, 1.5rem);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.1s;
            cursor: pointer;
            z-index: 5;
            touch-action: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        .gift.caught {
            animation: caught 0.5s forwards;
        }
        
        @keyframes caught {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { 
                transform: scale(0);
                opacity: 0;
            }
        }
        
        .gift.missed {
            animation: missed 0.5s forwards;
        }
        
        @keyframes missed {
            0% { opacity: 1; }
            100% { 
                opacity: 0;
                transform: translateY(100px);
            }
        }
        
        .gift-1 { background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); }
        .gift-2 { background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); }
        .gift-3 { background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%); }
        .gift-4 { background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); }
        .gift-5 { background: linear-gradient(135deg, #f1c40f 0%, #f39c12 100%); }
        
        .controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            width: 100%;
        }
        
        button {
            padding: clamp(12px, 3vw, 15px) clamp(20px, 4vw, 30px);
            border: none;
            border-radius: 10px;
            font-size: clamp(0.9rem, 2.5vw, 1.1rem);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            flex: 1;
            min-width: 120px;
            max-width: 200px;
            touch-action: manipulation;
        }
        
        .btn-start {
            background: linear-gradient(90deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            font-size: clamp(1.1rem, 3vw, 1.3rem);
            padding: clamp(15px, 3vw, 18px) clamp(30px, 5vw, 40px);
        }
        
        .btn-pause {
            background: linear-gradient(90deg, #f1c40f 0%, #f39c12 100%);
            color: white;
        }
        
        .btn-restart {
            background: linear-gradient(90deg, #3498db 0%, #2980b9 100%);
            color: white;
        }
        
        .btn-next {
            background: linear-gradient(90deg, #9b59b6 0%, #8e44ad 100%);
            color: white;
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            padding: clamp(15px, 3vw, 18px) clamp(30px, 5vw, 40px);
        }
        
        .btn-start:hover, .btn-pause:hover, .btn-restart:hover, .btn-next:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .btn-next:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .game-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            padding: clamp(20px, 4vw, 30px) clamp(30px, 5vw, 50px);
            border-radius: 20px;
            text-align: center;
            z-index: 100;
            display: none;
            border: 3px solid #f1c40f;
            box-shadow: 0 0 40px rgba(241, 196, 15, 0.5);
            max-width: 500px;
            width: 90%;
        }
        
        .game-message h2 {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            color: #f1c40f;
            margin-bottom: 15px;
        }
        
        .game-message p {
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            margin-bottom: 20px;
            line-height: 1.5;
        }
        
        .progress-section {
            width: 100%;
            max-width: 800px;
            text-align: center;
            margin-top: 10px;
        }
        
        .progress-text {
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            margin-bottom: 8px;
            color: #f1c40f;
        }
        
        .progress-bar {
            width: 100%;
            height: clamp(12px, 3vw, 20px);
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 8px;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #27ae60 0%, #2ecc71 100%);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .results-section {
            display: none;
            text-align: center;
            padding: clamp(20px, 4vw, 30px);
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            margin-top: 15px;
            width: 100%;
            max-width: 600px;
        }
        
        .results-section h2 {
            font-size: clamp(1.5rem, 4vw, 2.2rem);
            margin-bottom: 15px;
            color: #f1c40f;
        }
        
        .score-display {
            font-size: clamp(2.5rem, 8vw, 4rem);
            color: #3498db;
            font-weight: bold;
            margin: 15px 0;
            text-shadow: 0 0 10px rgba(52, 152, 219, 0.5);
        }
        
        .congrats-message {
            background: linear-gradient(90deg, #ff0000, #ff9900, #ffff00, #00ff00, #00ffff, #0000ff, #9900ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: bold;
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            margin: 10px 0;
            animation: rainbow 3s infinite linear;
        }
        
        @keyframes rainbow {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }
        
        .result-message {
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            margin-bottom: 20px;
            max-width: 600px;
            line-height: 1.6;
        }
        
        .footer {
            text-align: center;
            padding: 15px;
            font-size: clamp(0.8rem, 2vw, 0.9rem);
            opacity: 0.7;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 20px;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .garfield-container {
            animation: bounce 3s infinite ease-in-out;
        }
        
        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(500px) rotate(360deg);
                opacity: 0;
            }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .pulse {
            animation: pulse 1.5s infinite ease-in-out;
        }
        
        .gift-collected {
            position: absolute;
            font-size: clamp(1rem, 2.5vw, 1.5rem);
            color: #f1c40f;
            font-weight: bold;
            animation: floatUp 1s forwards;
            pointer-events: none;
            z-index: 20;
        }
        
        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateY(-50px);
            }
        }
        
        .game-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 50;
        }
        
        .mobile-controls {
            display: none;
            justify-content: space-between;
            width: 100%;
            max-width: 300px;
            margin-top: 15px;
            gap: 20px;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
                display: block;
                overflow-y: auto;
                height: auto;
            }
            
            .container {
                margin: 0 auto;
                min-height: auto;
            }
            
            .mobile-controls {
                display: flex;
            }
            
            .game-container {
                height: 35vh;
                min-height: 200px;
            }
            
            .stat-value {
                font-size: clamp(1.2rem, 3vw, 1.8rem);
            }
            
            .game-title {
                font-size: clamp(1.3rem, 3.5vw, 1.8rem);
            }
            
            .catcher {
                width: clamp(70px, 22vw, 100px);
                height: clamp(35px, 10vw, 50px);
            }
            
            .catcher:after {
                width: clamp(90px, 27vw, 120px);
                height: clamp(12px, 3.5vw, 20px);
                top: -8px;
            }
            
            .gift {
                width: clamp(30px, 8vw, 45px);
                height: clamp(30px, 8vw, 45px);
                font-size: clamp(0.9rem, 2.5vw, 1.3rem);
            }
            
            .content {
                padding: 15px;
                gap: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .game-container {
                height: 30vh;
                min-height: 180px;
            }
            
            .game-stats {
                padding: 10px;
                gap: 5px;
            }
            
            .stat-value {
                font-size: 1.3rem;
            }
            
            .stat-label {
                font-size: 0.7rem;
            }
            
            .controls {
                gap: 10px;
            }
            
            button {
                min-width: 100px;
                padding: 10px 15px;
            }
            
            .mobile-controls {
                max-width: 280px;
            }
            
            .control-btn {
                width: 60px;
                height: 60px;
            }
            
            .speech-bubble {
                margin-bottom: 10px;
            }
        }
        
        .control-btn {
            width: clamp(60px, 15vw, 80px);
            height: clamp(60px, 15vw, 80px);
            border-radius: 50%;
            background: rgba(52, 152, 219, 0.9);
            border: 3px solid #3498db;
            color: white;
            font-size: clamp(1.5rem, 4vw, 2rem);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            user-select: none;
            touch-action: manipulation;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .control-btn:active {
            background: rgba(41, 128, 185, 0.9);
            transform: scale(0.95);
        }
        
        .game-timer {
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            color: #e74c3c;
            font-weight: bold;
            margin-top: 10px;
        }
        
        .start-button-container {
            text-align: center;
            margin-top: 15px;
            margin-bottom: 15px;
            width: 100%;
        }
        
        .main-start-btn {
            background: linear-gradient(90deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            padding: clamp(15px, 3vw, 20px) clamp(40px, 8vw, 60px);
            border-radius: 15px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 10px 20px rgba(39, 174, 96, 0.3);
            touch-action: manipulation;
            width: auto;
            max-width: 90%;
            margin: 0 auto;
        }
        
        .main-start-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(39, 174, 96, 0.4);
        }
        
        .main-start-btn:active {
            transform: scale(0.98);
        }
        
        /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ iOS */
        @supports (-webkit-touch-callout: none) {
            .game-area {
                -webkit-overflow-scrolling: touch;
            }
        }
        
        /* –£–ª—É—á—à–µ–Ω–∏–µ –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤ */
        @media (min-width: 769px) and (max-width: 1024px) {
            .game-container {
                height: 300px;
            }
            
            .catcher {
                width: 110px;
                height: 55px;
            }
            
            .catcher:after {
                width: 140px;
                height: 22px;
            }
        }
        
        /* –£–ª—É—á—à–µ–Ω–∏–µ –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏ –¥–ª—è —Ç–∞—á-—É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (hover: none) and (pointer: coarse) {
            button:hover {
                transform: none;
            }
            
            .main-start-btn:hover {
                transform: none;
            }
            
            button:active, .main-start-btn:active {
                transform: scale(0.95);
            }
        }
        
        /* –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
        @media (max-height: 800px) {
            .container {
                margin: 20px auto;
            }
        }
        
        /* –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ —ç–∫—Ä–∞–Ω—ã */
        @media (max-height: 600px) {
            .garfield-container {
                width: 80px;
                height: 80px;
            }
            
            .speech-bubble {
                padding: 10px;
                font-size: 0.9rem;
                margin-bottom: 5px;
            }
            
            .game-title {
                font-size: 1.2rem;
                margin-bottom: 5px;
            }
            
            .game-instructions {
                padding: 8px;
                font-size: 0.8rem;
                margin-bottom: 8px;
            }
            
            .game-container {
                height: 25vh;
                min-height: 150px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-gift"></i> –õ–æ–≤–µ—Ü –ø–æ–¥–∞—Ä–∫–æ–≤ <i class="fas fa-cat"></i></h1>
            <p>–ì–∞—Ä—Ñ–∏–ª–¥ –∏ –î–∏–∞–Ω–æ—á–∫–∞ –ª–æ–≤—è—Ç –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–∏!</p>
            
            <div class="snowflakes" id="snowflakes"></div>
        </div>
        
        <div class="content">
            <div class="character-section">
                <div class="garfield-container">
                    <img src="images/icon.png" alt="–ì–∞—Ä—Ñ–∏–ª–¥" id="garfieldImage">
                </div>
                
                <div class="speech-bubble" id="welcomeMessage">
                    –ü—Ä–∏–≤–µ—Ç, –î–∏–∞–Ω–æ—á–∫–∞! –ü–æ–º–æ–≥–∏ –º–Ω–µ –ø–æ–π–º–∞—Ç—å 50 –Ω–æ–≤–æ–≥–æ–¥–Ω–∏—Ö –ø–æ–¥–∞—Ä–∫–æ–≤! –£–ø—Ä–∞–≤–ª—è–π –∫–æ—Ä–∑–∏–Ω–∫–æ–π —Å –ø–æ–º–æ—â—å—é –º—ã—à–∏ –∏–ª–∏ –∫–ª–∞–≤–∏—à A/D.
                </div>
            </div>
            
            <div class="start-button-container">
                <button class="main-start-btn" id="mainStartBtn">
                    <i class="fas fa-play-circle"></i> –ù–ê–ß–ê–¢–¨ –ò–ì–†–£
                </button>
            </div>
            
            <div class="game-section" id="gameSection" style="display: none;">
                <h2 class="game-title">üéÅ –õ–û–í–ò –ü–û–î–ê–†–ö–ò! üéÅ</h2>
                
                <div class="game-instructions">
                    <p><strong>–¶–µ–ª—å –∏–≥—Ä—ã:</strong> –ü–æ–π–º–∞—Ç—å 50 –Ω–æ–≤–æ–≥–æ–¥–Ω–∏—Ö –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞ 60 —Å–µ–∫—É–Ω–¥!</p>
                    <p><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong> –î–≤–∏–≥–∞–π –º—ã—à—å—é –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –∫–ª–∞–≤–∏—à–∏ A (–≤–ª–µ–≤–æ) –∏ D (–≤–ø—Ä–∞–≤–æ)</p>
                    <p><strong>–ù–∞ –º–æ–±–∏–ª—å–Ω–æ–º:</strong> –ò—Å–ø–æ–ª—å–∑—É–π –∫–Ω–æ–ø–∫–∏ –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞</p>
                </div>
                
                <div class="game-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="caughtCount">0</div>
                        <div class="stat-label">–ü–æ–π–º–∞–Ω–æ –ø–æ–¥–∞—Ä–∫–æ–≤</div>
                    </div>
                    
                    <div class="stat-item">
                        <div class="stat-value" id="timeLeft">60</div>
                        <div class="stat-label">–û—Å—Ç–∞–ª–æ—Å—å —Å–µ–∫—É–Ω–¥</div>
                    </div>
                    
                    <div class="stat-item">
                        <div class="stat-value" id="missedCount">0</div>
                        <div class="stat-label">–ü—Ä–æ–ø—É—â–µ–Ω–æ –ø–æ–¥–∞—Ä–∫–æ–≤</div>
                    </div>
                </div>
                
                <div class="game-container">
                    <div class="game-area" id="gameArea">
                        <div class="catcher" id="catcher">
                            <div class="catcher-text">–î–∏–∞–Ω–æ—á–∫–∞</div>
                        </div>
                        <!-- –ü–æ–¥–∞—Ä–∫–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
                    </div>
                    
                    <div class="game-overlay" id="gameOverlay">
                        <div class="game-message" id="pauseMessage" style="display: none;">
                            <h2>–ò–≥—Ä–∞ –Ω–∞ –ø–∞—É–∑–µ</h2>
                            <p>–ò–≥—Ä–∞ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞. –ù–∞–∂–º–∏ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å", —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ª–æ–≤–ª–µ –ø–æ–¥–∞—Ä–∫–æ–≤!</p>
                            <button class="btn-start" id="resumeBtn">
                                <i class="fas fa-play-circle"></i> –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                            </button>
                        </div>
                        
                        <div class="game-message" id="gameOverMessage" style="display: none;">
                            <h2>–í—Ä–µ–º—è –≤—ã—à–ª–æ!</h2>
                            <p>–¢—ã –ø–æ–π–º–∞–ª–∞ <span id="finalCaught">0</span> –ø–æ–¥–∞—Ä–∫–æ–≤ –∏–∑ 50!</p>
                            <div class="game-timer" id="finalMessage"></div>
                            <button class="btn-restart" id="restartGameBtn">
                                <i class="fas fa-redo"></i> –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="mobile-controls">
                    <div class="control-btn" id="leftBtn">
                        <i class="fas fa-arrow-left"></i>
                    </div>
                    <div class="control-btn" id="rightBtn">
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </div>
                
                <div class="progress-section">
                    <div class="progress-text">
                        –ü—Ä–æ–≥—Ä–µ—Å—Å: <span id="progressText">0</span> –∏–∑ 50 –ø–æ–¥–∞—Ä–∫–æ–≤
                    </div>
                    <div class="progress-bar">
                        <div class="progress" id="progressBar"></div>
                    </div>
                    <div id="progressPercentage">0%</div>
                </div>
                
                <div class="controls">
                    <button class="btn-pause" id="pauseBtn">
                        <i class="fas fa-pause"></i> –ü–∞—É–∑–∞
                    </button>
                    <button class="btn-restart" id="restartBtn">
                        <i class="fas fa-redo"></i> –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
                    </button>
                </div>
            </div>
            
            <div class="results-section" id="resultsSection">
                <h2>–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h2>
                <div class="congrats-message" id="congratsMessage"></div>
                <div class="score-display" id="scoreDisplay">0/50</div>
                <div class="result-message" id="resultMessage">
                    –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å
                </div>
                
                <button class="btn-next" id="nextPageBtn">
                    <i class="fas fa-arrow-right"></i> –ü–µ—Ä–µ–π—Ç–∏ –¥–∞–ª—å—à–µ
                </button>
            </div>
        </div>
        
        <div class="footer">
            <p>–ù–æ–≤–æ–≥–æ–¥–Ω—è—è –∏–≥—Ä–∞ "–õ–æ–≤–µ—Ü –ø–æ–¥–∞—Ä–∫–æ–≤" —Å –ì–∞—Ä—Ñ–∏–ª–¥–æ–º ¬© 2026</p>
            <p>–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–≥—Ä—ã –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É</p>
        </div>
    </div>

    <script>
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const gameArea = document.getElementById('gameArea');
        const catcher = document.getElementById('catcher');
        const caughtCountElement = document.getElementById('caughtCount');
        const missedCountElement = document.getElementById('missedCount');
        const timeLeftElement = document.getElementById('timeLeft');
        const welcomeMessage = document.getElementById('welcomeMessage');
        const mainStartBtn = document.getElementById('mainStartBtn');
        const gameSection = document.getElementById('gameSection');
        const pauseBtn = document.getElementById('pauseBtn');
        const restartBtn = document.getElementById('restartBtn');
        const resumeBtn = document.getElementById('resumeBtn');
        const restartGameBtn = document.getElementById('restartGameBtn');
        const nextPageBtn = document.getElementById('nextPageBtn');
        const resultsSection = document.getElementById('resultsSection');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const congratsMessage = document.getElementById('congratsMessage');
        const resultMessage = document.getElementById('resultMessage');
        const progressBar = document.getElementById('progressBar');
        const progressPercentage = document.getElementById('progressPercentage');
        const progressText = document.getElementById('progressText');
        const gameOverlay = document.getElementById('gameOverlay');
        const pauseMessage = document.getElementById('pauseMessage');
        const gameOverMessage = document.getElementById('gameOverMessage');
        const finalCaughtElement = document.getElementById('finalCaught');
        const finalMessageElement = document.getElementById('finalMessage');
        const leftBtn = document.getElementById('leftBtn');
        const rightBtn = document.getElementById('rightBtn');
        const snowflakesContainer = document.getElementById('snowflakes');
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–≥—Ä—ã
        let gameActive = false;
        let gamePaused = false;
        let gameTimeLeft = 60;
        let caughtCount = 0;
        let missedCount = 0;
        let totalGifts = 0;
        let targetGifts = 50;
        let gameTimer;
        let giftTimer;
        let catcherSpeed = 8;
        let giftSpeed = 3;
        let gifts = [];
        let keysPressed = {};
        let touchControls = false;
        let isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        let touchStartX = 0;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–Ω–µ–∂–∏–Ω–æ–∫
        function createSnowflakes() {
            for (let i = 0; i < 30; i++) {
                const snowflake = document.createElement('div');
                snowflake.classList.add('snowflake');
                
                const size = Math.random() * 4 + 2;
                snowflake.style.width = `${size}px`;
                snowflake.style.height = `${size}px`;
                
                snowflake.style.left = `${Math.random() * 100}%`;
                snowflake.style.top = `${Math.random() * 100}%`;
                
                const opacity = Math.random() * 0.5 + 0.3;
                snowflake.style.opacity = opacity.toString();
                
                const animationDuration = Math.random() * 10 + 10;
                snowflake.style.animation = `fall ${animationDuration}s linear infinite`;
                
                snowflakesContainer.appendChild(snowflake);
            }
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç–µ—Å—Ç–∞
        function loadPreviousResults() {
            const attentionScore = localStorage.getItem('attentionTestScore') || 0;
            const attentionTotal = localStorage.getItem('attentionTestTotal') || 5;
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ì–∞—Ä—Ñ–∏–ª–¥–∞
            let message = '';
            if (attentionScore >= attentionTotal * 0.7) {
                message = `–î–∏–∞–Ω–æ—á–∫–∞, —Ç—ã –ø—Ä–æ—Å—Ç–æ —É–º–Ω–∏—á–∫–∞! –í —Ç–µ—Å—Ç–µ –Ω–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç—ã –Ω–∞–±—Ä–∞–ª–∞ ${attentionScore} –∏–∑ ${attentionTotal} –±–∞–ª–ª–æ–≤! –ê —Ç–µ–ø–µ—Ä—å –ø–æ–º–æ–≥–∏ –º–Ω–µ –ø–æ–π–º–∞—Ç—å 50 –Ω–æ–≤–æ–≥–æ–¥–Ω–∏—Ö –ø–æ–¥–∞—Ä–∫–æ–≤! –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É "–ù–ê–ß–ê–¢–¨ –ò–ì–†–£", —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å!`;
            } else if (attentionScore >= attentionTotal * 0.5) {
                message = `–î–∏–∞–Ω–æ—á–∫–∞, —Ç—ã —Ö–æ—Ä–æ—à–æ —Å–ø—Ä–∞–≤–∏–ª–∞—Å—å —Å —Ç–µ—Å—Ç–æ–º –Ω–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å - ${attentionScore} –∏–∑ ${attentionTotal} –±–∞–ª–ª–æ–≤! –ê —Ç–µ–ø–µ—Ä—å –¥–∞–≤–∞–π –≤–º–µ—Å—Ç–µ –ª–æ–≤–∏—Ç—å –ø–æ–¥–∞—Ä–∫–∏! –ù–∞–∂–º–∏ "–ù–ê–ß–ê–¢–¨ –ò–ì–†–£"!`;
            } else {
                message = `–î–∏–∞–Ω–æ—á–∫–∞, –≤ —Ç–µ—Å—Ç–µ –Ω–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç—ã –Ω–∞–±—Ä–∞–ª–∞ ${attentionScore} –∏–∑ ${attentionTotal} –±–∞–ª–ª–æ–≤. –ù–µ –±–µ–¥–∞! –î–∞–≤–∞–π –ø–æ–ø—Ä–æ–±—É–µ–º –ø–æ–π–º–∞—Ç—å –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–∏! –ù–∞–∂–º–∏ "–ù–ê–ß–ê–¢–¨ –ò–ì–†–£"!`;
            }
            
            welcomeMessage.innerHTML = message;
            
            // –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –¥–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–≤–∞–π–ø—É
            if (isMobile) {
                message += " –ù–∞ –º–æ–±–∏–ª—å–Ω–æ–º –º–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–∞–π–ø–æ–º –ø–æ —ç–∫—Ä–∞–Ω—É!";
                welcomeMessage.innerHTML = message;
            }
        }
        
        // –ù–∞—á–∞–ª–æ –∏–≥—Ä—ã
        function startGame() {
            gameActive = true;
            gamePaused = false;
            gameTimeLeft = 60;
            caughtCount = 0;
            missedCount = 0;
            totalGifts = 0;
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
            if (isMobile) {
                catcherSpeed = 10;
                giftSpeed = 4;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–≥—Ä–æ–≤—É—é —Å–µ–∫—Ü–∏—é –∏ —Å–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —Å—Ç–∞—Ä—Ç–∞
            gameSection.style.display = 'flex';
            mainStartBtn.style.display = 'none';
            document.querySelector('.start-button-container').style.display = 'none';
            
            // –°–∫—Ä—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –µ—Å–ª–∏ –æ–Ω–∏ –ø–æ–∫–∞–∑–∞–Ω—ã
            resultsSection.style.display = 'none';
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            caughtCountElement.textContent = caughtCount;
            missedCountElement.textContent = missedCount;
            timeLeftElement.textContent = gameTimeLeft;
            updateProgress();
            
            // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø–æ–¥–∞—Ä–∫–æ–≤
            gifts.forEach(gift => gift.element.remove());
            gifts = [];
            
            // –°–∫—Ä—ã—Ç–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ –ø–∞—É–∑–µ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
            pauseMessage.style.display = 'none';
            gameOverMessage.style.display = 'none';
            gameOverlay.style.display = 'none';
            
            // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–æ–≤
            startGameTimers();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ì–∞—Ä—Ñ–∏–ª–¥–∞
            if (isMobile) {
                welcomeMessage.innerHTML = "–í–ø–µ—Ä–µ–¥, –î–∏–∞–Ω–æ—á–∫–∞! –õ–æ–≤–∏ –ø–æ–¥–∞—Ä–∫–∏! –£–ø—Ä–∞–≤–ª—è–π –∫–æ—Ä–∑–∏–Ω–∫–æ–π —Å–≤–∞–π–ø–æ–º –∏–ª–∏ –∫–Ω–æ–ø–∫–∞–º–∏ –≤–Ω–∏–∑—É!";
            } else {
                welcomeMessage.innerHTML = "–í–ø–µ—Ä–µ–¥, –î–∏–∞–Ω–æ—á–∫–∞! –õ–æ–≤–∏ –ø–æ–¥–∞—Ä–∫–∏! –£–ø—Ä–∞–≤–ª—è–π –∫–æ—Ä–∑–∏–Ω–∫–æ–π —Å –ø–æ–º–æ—â—å—é –º—ã—à–∏ –∏–ª–∏ –∫–ª–∞–≤–∏—à A/D!";
            }
            
            // –§–æ–∫—É—Å –Ω–∞ –∏–≥—Ä–æ–≤–æ–π –æ–±–ª–∞—Å—Ç–∏ –¥–ª—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            gameArea.focus();
            
            // –ù–∞—á–∞–ª–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –∫–æ—Ä–∑–∏–Ω–∫–∏
            updateCatcherPosition();
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –∏–≥—Ä–æ–≤–æ–º—É –ø–æ–ª—é –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
            if (isMobile) {
                setTimeout(() => {
                    gameSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 100);
            }
        }
        
        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä–æ–≤—ã—Ö —Ç–∞–π–º–µ—Ä–æ–≤
        function startGameTimers() {
            // –¢–∞–π–º–µ—Ä –∏–≥—Ä—ã
            gameTimer = setInterval(() => {
                if (!gamePaused) {
                    gameTimeLeft--;
                    timeLeftElement.textContent = gameTimeLeft;
                    
                    if (gameTimeLeft <= 0) {
                        endGame();
                    }
                    
                    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
                    if (gameTimeLeft < 30) {
                        giftSpeed = isMobile ? 5 : 4;
                    }
                    if (gameTimeLeft < 15) {
                        giftSpeed = isMobile ? 6 : 5;
                    }
                }
            }, 1000);
            
            // –¢–∞–π–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥–∞—Ä–∫–æ–≤
            giftTimer = setInterval(() => {
                if (!gamePaused) {
                    createGift();
                }
            }, isMobile ? 600 : 800); // –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–∏ –ø–∞–¥–∞—é—Ç —á–∞—â–µ
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–∞
        function createGift() {
            if (!gameActive || gamePaused) return;
            
            const gift = document.createElement('div');
            gift.classList.add('gift');
            
            // –°–ª—É—á–∞–π–Ω—ã–π —Ç–∏–ø –ø–æ–¥–∞—Ä–∫–∞
            const giftType = Math.floor(Math.random() * 5) + 1;
            gift.classList.add(`gift-${giftType}`);
            
            // –°–ª—É—á–∞–π–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤
            const giftIcons = ['üéÅ', 'üéÑ', '‚≠ê', 'üîî', 'üß∏', 'üç¨', 'üç™', 'ü•õ'];
            const randomIcon = giftIcons[Math.floor(Math.random() * giftIcons.length)];
            gift.textContent = randomIcon;
            
            // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤–≤–µ—Ä—Ö—É
            const maxWidth = gameArea.clientWidth - gift.clientWidth;
            const leftPos = Math.floor(Math.random() * maxWidth);
            
            gift.style.left = `${leftPos}px`;
            gift.style.top = `-60px`;
            
            // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è –ø–æ–¥–∞—Ä–∫–∞
            const giftId = Date.now() + Math.random();
            gift.dataset.id = giftId;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏–≥—Ä–æ–≤—É—é –æ–±–ª–∞—Å—Ç—å
            gameArea.appendChild(gift);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–∞—Ä–∫–µ
            const giftObj = {
                id: giftId,
                element: gift,
                left: leftPos,
                top: -60,
                speed: giftSpeed + Math.random() * 1.5,
                caught: false
            };
            
            gifts.push(giftObj);
            totalGifts++;
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –ø–æ–¥–∞—Ä–æ–∫
            gift.addEventListener('click', () => catchGift(giftObj));
            gift.addEventListener('touchstart', (e) => {
                e.preventDefault();
                catchGift(giftObj);
            }, { passive: false });
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è
            animateGift(giftObj);
        }
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è –ø–æ–¥–∞—Ä–∫–∞
        function animateGift(gift) {
            if (!gameActive || gift.caught) return;
            
            const animate = () => {
                if (!gameActive || gamePaused || gift.caught) return;
                
                gift.top += gift.speed;
                gift.element.style.top = `${gift.top}px`;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞, –¥–æ—Å—Ç–∏–≥ –ª–∏ –ø–æ–¥–∞—Ä–æ–∫ –Ω–∏–∑–∞
                if (gift.top > gameArea.clientHeight) {
                    // –ü–æ–¥–∞—Ä–æ–∫ –ø—Ä–æ–ø—É—â–µ–Ω
                    if (!gift.caught) {
                        gift.element.classList.add('missed');
                        missedCount++;
                        missedCountElement.textContent = missedCount;
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –ø—Ä–æ–ø—É—â–µ–Ω–æ –º–Ω–æ–≥–æ –ø–æ–¥–∞—Ä–∫–æ–≤
                        if (missedCount % 5 === 0) {
                            welcomeMessage.innerHTML = `–û–π, –î–∏–∞–Ω–æ—á–∫–∞, —É–∂–µ ${missedCount} –ø–æ–¥–∞—Ä–∫–æ–≤ —É–ø–∞–ª–æ! –°—Ç–∞—Ä–∞–π—Å—è –ª—É—á—à–µ!`;
                        }
                        
                        setTimeout(() => {
                            if (gift.element.parentNode) {
                                gift.element.remove();
                            }
                        }, 500);
                    }
                    
                    // –£–¥–∞–ª—è–µ–º –∏–∑ –º–∞—Å—Å–∏–≤–∞
                    const index = gifts.findIndex(g => g.id === gift.id);
                    if (index !== -1) {
                        gifts.splice(index, 1);
                    }
                    
                    return;
                }
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Å –∫–æ—Ä–∑–∏–Ω–∫–æ–π
                checkCollision(gift);
                
                // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
                requestAnimationFrame(animate);
            };
            
            animate();
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Å –∫–æ—Ä–∑–∏–Ω–∫–æ–π
        function checkCollision(gift) {
            if (gift.caught) return;
            
            const catcherRect = catcher.getBoundingClientRect();
            const giftRect = gift.element.getBoundingClientRect();
            const gameAreaRect = gameArea.getBoundingClientRect();
            
            // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∏–≥—Ä–æ–≤–æ–π –æ–±–ª–∞—Å—Ç–∏
            const catcherLeft = catcherRect.left - gameAreaRect.left;
            const catcherRight = catcherRect.right - gameAreaRect.left;
            const catcherTop = catcherRect.top - gameAreaRect.top;
            const catcherBottom = catcherRect.bottom - gameAreaRect.top;
            
            const giftLeft = giftRect.left - gameAreaRect.left;
            const giftRight = giftRect.right - gameAreaRect.left;
            const giftTop = giftRect.top - gameAreaRect.top;
            const giftBottom = giftRect.bottom - gameAreaRect.top;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è —Å —É—á–µ—Ç–æ–º –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∫–æ—Ä–∑–∏–Ω–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
            if (giftLeft < catcherRight && 
                giftRight > catcherLeft && 
                giftTop < catcherBottom && 
                giftBottom > catcherTop) {
                
                catchGift(gift);
            }
        }
        
        // –ü–æ–π–º–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫
        function catchGift(gift) {
            if (gift.caught) return;
            
            gift.caught = true;
            gift.element.classList.add('caught');
            
            // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞
            caughtCount++;
            caughtCountElement.textContent = caughtCount;
            
            // –°–æ–∑–¥–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ "+1"
            createPlusOneEffect(gift);
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
            updateProgress();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ì–∞—Ä—Ñ–∏–ª–¥–∞
            const randomMessages = [
                "–û—Ç–ª–∏—á–Ω–æ, –î–∏–∞–Ω–æ—á–∫–∞!",
                "–ú–æ–ª–æ–¥–µ—Ü! –ï—â–µ –æ–¥–∏–Ω –ø–æ–¥–∞—Ä–æ–∫!",
                "–¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å!",
                "–£—Ä–∞! –ü–æ–π–º–∞–ª–∞!",
                "–°—É–ø–µ—Ä! –ì–∞—Ä—Ñ–∏–ª–¥ –¥–æ–≤–æ–ª–µ–Ω!"
            ];
            
            if (caughtCount % 10 === 0) {
                welcomeMessage.innerHTML = `–ü–æ—Ç—Ä—è—Å–∞—é—â–µ! –£–∂–µ ${caughtCount} –ø–æ–¥–∞—Ä–∫–æ–≤ –ø–æ–π–º–∞–Ω–æ!`;
            } else {
                const randomMessage = randomMessages[Math.floor(Math.random() * randomMessages.length)];
                welcomeMessage.innerHTML = `${randomMessage} –ü–æ–π–º–∞–Ω–æ –ø–æ–¥–∞—Ä–∫–æ–≤: ${caughtCount}`;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥—ã
            if (caughtCount >= targetGifts) {
                winGame();
            }
            
            // –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–∞ —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è
            setTimeout(() => {
                if (gift.element.parentNode) {
                    gift.element.remove();
                }
                
                // –£–¥–∞–ª—è–µ–º –∏–∑ –º–∞—Å—Å–∏–≤–∞
                const index = gifts.findIndex(g => g.id === gift.id);
                if (index !== -1) {
                    gifts.splice(index, 1);
                }
            }, 500);
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ "+1"
        function createPlusOneEffect(gift) {
            const plusOne = document.createElement('div');
            plusOne.classList.add('gift-collected');
            plusOne.textContent = '+1 üéÅ';
            plusOne.style.left = `${gift.left + 15}px`;
            plusOne.style.top = `${gift.top}px`;
            
            gameArea.appendChild(plusOne);
            
            // –£–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
            setTimeout(() => {
                if (plusOne.parentNode) {
                    plusOne.remove();
                }
            }, 1000);
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        function updateProgress() {
            const progress = (caughtCount / targetGifts) * 100;
            const clampedProgress = Math.min(progress, 100);
            
            progressBar.style.width = `${clampedProgress}%`;
            progressPercentage.textContent = `${Math.round(clampedProgress)}%`;
            progressText.textContent = caughtCount;
        }
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω–∫–æ–π
        function updateCatcherPosition() {
            if (!gameActive || gamePaused) return;
            
            let newLeft = catcher.offsetLeft;
            
            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
            if (keysPressed['a'] || keysPressed['ArrowLeft'] || touchControls === 'left') {
                newLeft -= catcherSpeed;
            }
            if (keysPressed['d'] || keysPressed['ArrowRight'] || touchControls === 'right') {
                newLeft += catcherSpeed;
            }
            
            // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∏–≥—Ä–æ–≤–æ–π –æ–±–ª–∞—Å—Ç–∏
            const maxLeft = gameArea.clientWidth - catcher.clientWidth;
            newLeft = Math.max(0, Math.min(newLeft, maxLeft));
            
            catcher.style.left = `${newLeft}px`;
            
            // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏
            requestAnimationFrame(updateCatcherPosition);
        }
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
        document.addEventListener('keydown', (e) => {
            if (!gameActive || gamePaused) return;
            
            keysPressed[e.key] = true;
            
            // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            if (['a', 'd', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {
                e.preventDefault();
            }
        });
        
        document.addEventListener('keyup', (e) => {
            keysPressed[e.key] = false;
        });
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—ã—à—å—é
        gameArea.addEventListener('mousemove', (e) => {
            if (!gameActive || gamePaused) return;
            
            const rect = gameArea.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const catcherWidth = catcher.clientWidth;
            
            // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∫–æ—Ä–∑–∏–Ω–∫—É –Ω–∞ –∫—É—Ä—Å–æ—Ä–µ –º—ã—à–∏
            let newLeft = mouseX - catcherWidth / 2;
            
            // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è
            const maxLeft = gameArea.clientWidth - catcherWidth;
            newLeft = Math.max(0, Math.min(newLeft, maxLeft));
            
            catcher.style.left = `${newLeft}px`;
        });
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Å–∞–Ω–∏–µ–º –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
        gameArea.addEventListener('touchstart', (e) => {
            if (!gameActive || gamePaused) return;
            
            e.preventDefault();
            const touch = e.touches[0];
            touchStartX = touch.clientX;
            
            // –ü—Ä—è–º–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–µ–π
            const rect = gameArea.getBoundingClientRect();
            const touchX = touch.clientX - rect.left;
            const catcherWidth = catcher.clientWidth;
            
            let newLeft = touchX - catcherWidth / 2;
            const maxLeft = gameArea.clientWidth - catcherWidth;
            newLeft = Math.max(0, Math.min(newLeft, maxLeft));
            
            catcher.style.left = `${newLeft}px`;
        }, { passive: false });
        
        gameArea.addEventListener('touchmove', (e) => {
            if (!gameActive || gamePaused) return;
            
            e.preventDefault();
            const touch = e.touches[0];
            const rect = gameArea.getBoundingClientRect();
            const touchX = touch.clientX - rect.left;
            const catcherWidth = catcher.clientWidth;
            
            let newLeft = touchX - catcherWidth / 2;
            const maxLeft = gameArea.clientWidth - catcherWidth;
            newLeft = Math.max(0, Math.min(newLeft, maxLeft));
            
            catcher.style.left = `${newLeft}px`;
        }, { passive: false });
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –∫–Ω–æ–ø–∫–∞–º–∏
        leftBtn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            touchControls = 'left';
        }, { passive: false });
        
        leftBtn.addEventListener('touchend', (e) => {
            e.preventDefault();
            touchControls = false;
        }, { passive: false });
        
        leftBtn.addEventListener('touchcancel', (e) => {
            e.preventDefault();
            touchControls = false;
        }, { passive: false });
        
        rightBtn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            touchControls = 'right';
        }, { passive: false });
        
        rightBtn.addEventListener('touchend', (e) => {
            e.preventDefault();
            touchControls = false;
        }, { passive: false });
        
        rightBtn.addEventListener('touchcancel', (e) => {
            e.preventDefault();
            touchControls = false;
        }, { passive: false });
        
        // –¢–∞–∫–∂–µ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –º—ã—à–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –∫–Ω–æ–ø–∫–∞—Ö
        leftBtn.addEventListener('mousedown', () => {
            touchControls = 'left';
        });
        
        leftBtn.addEventListener('mouseup', () => {
            touchControls = false;
        });
        
        leftBtn.addEventListener('mouseleave', () => {
            touchControls = false;
        });
        
        rightBtn.addEventListener('mousedown', () => {
            touchControls = 'right';
        });
        
        rightBtn.addEventListener('mouseup', () => {
            touchControls = false;
        });
        
        rightBtn.addEventListener('mouseleave', () => {
            touchControls = false;
        });
        
        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
        gameArea.addEventListener('contextmenu', (e) => {
            e.preventDefault();
            return false;
        });
        
        // –ü–∞—É–∑–∞ –∏–≥—Ä—ã
        function pauseGame() {
            if (!gameActive) return;
            
            gamePaused = true;
            pauseMessage.style.display = 'block';
            gameOverlay.style.display = 'flex';
            
            welcomeMessage.innerHTML = "–ò–≥—Ä–∞ –Ω–∞ –ø–∞—É–∑–µ. –ù–∞–∂–º–∏ '–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å', —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ª–æ–≤–ª–µ –ø–æ–¥–∞—Ä–∫–æ–≤!";
        }
        
        // –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–≥—Ä—É
        function resumeGame() {
            if (!gameActive) return;
            
            gamePaused = false;
            gameOverlay.style.display = 'none';
            pauseMessage.style.display = 'none';
            
            welcomeMessage.innerHTML = "–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º! –í–ø–µ—Ä–µ–¥, –î–∏–∞–Ω–æ—á–∫–∞, –ª–æ–≤–∏ –ø–æ–¥–∞—Ä–∫–∏!";
        }
        
        // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–≥—Ä—ã (–ø–æ –≤—Ä–µ–º–µ–Ω–∏)
        function endGame() {
            gameActive = false;
            clearInterval(gameTimer);
            clearInterval(giftTimer);
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
            gameOverlay.style.display = 'flex';
            gameOverMessage.style.display = 'block';
            finalCaughtElement.textContent = caughtCount;
            
            let finalMessage = '';
            if (caughtCount >= targetGifts) {
                finalMessage = `–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –¢—ã –ø–æ–π–º–∞–ª–∞ –≤—Å–µ ${targetGifts} –ø–æ–¥–∞—Ä–∫–æ–≤!`;
            } else {
                finalMessage = `–¢—ã –ø–æ–π–º–∞–ª–∞ ${caughtCount} –ø–æ–¥–∞—Ä–∫–æ–≤ –∏–∑ ${targetGifts}. –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑!`;
            }
            
            finalMessageElement.textContent = finalMessage;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            saveGameResults();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                showResults();
            }, 3000);
        }
        
        // –ü–æ–±–µ–¥–∞ –≤ –∏–≥—Ä–µ (–ø–æ–π–º–∞–Ω–æ 50 –ø–æ–¥–∞—Ä–∫–æ–≤)
        function winGame() {
            gameActive = false;
            clearInterval(gameTimer);
            clearInterval(giftTimer);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            saveGameResults();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
            setTimeout(() => {
                showResults();
            }, 1000);
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–≥—Ä—ã
        function saveGameResults() {
            localStorage.setItem('giftGameScore', caughtCount);
            localStorage.setItem('giftGameTarget', targetGifts);
            localStorage.setItem('giftGameTime', 60 - gameTimeLeft);
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        function showResults() {
            // –°–∫—Ä—ã–≤–∞–µ–º –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è
            gameSection.style.display = 'none';
            gameOverlay.style.display = 'none';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–µ–∫—Ü–∏—é —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
            resultsSection.style.display = 'block';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —Å—Ç–∞—Ä—Ç–∞ —Å–Ω–æ–≤–∞
            mainStartBtn.style.display = 'inline-flex';
            document.querySelector('.start-button-container').style.display = 'block';
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
            if (isMobile) {
                setTimeout(() => {
                    resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 100);
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            scoreDisplay.textContent = `${caughtCount}/${targetGifts}`;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            let message = '';
            let congrats = '';
            
            if (caughtCount >= targetGifts) {
                congrats = "üèÜ –ü–û–ë–ï–î–ê! –í–°–ï –ü–û–î–ê–†–ö–ò –ü–û–ô–ú–ê–ù–´! üèÜ";
                message = `–î–∏–∞–Ω–æ—á–∫–∞, —Ç—ã –ø—Ä–æ—Å—Ç–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞! –¢—ã –ø–æ–π–º–∞–ª–∞ –≤—Å–µ ${targetGifts} –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞ ${60 - gameTimeLeft} —Å–µ–∫—É–Ω–¥! –ì–∞—Ä—Ñ–∏–ª–¥ –≤ –≤–æ—Å—Ç–æ—Ä–≥–µ –∏ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª –¥–ª—è —Ç–µ–±—è —Å—é—Ä–ø—Ä–∏–∑ –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ!`;
            } else if (caughtCount >= targetGifts * 0.7) {
                congrats = "üéä –û–¢–õ–ò–ß–ù–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢! üéä";
                message = `–î–∏–∞–Ω–æ—á–∫–∞, —Ç—ã –æ—Ç–ª–∏—á–Ω–æ —Å–ø—Ä–∞–≤–∏–ª–∞—Å—å! –¢—ã –ø–æ–π–º–∞–ª–∞ ${caughtCount} –ø–æ–¥–∞—Ä–∫–æ–≤ –∏–∑ ${targetGifts}. –ì–∞—Ä—Ñ–∏–ª–¥ –æ—á–µ–Ω—å –¥–æ–≤–æ–ª–µ–Ω —Ç–≤–æ–∏–º–∏ —É—Å–ø–µ—Ö–∞–º–∏!`;
            } else if (caughtCount >= targetGifts * 0.5) {
                congrats = "üëç –•–û–†–û–®–ê–Ø –†–ê–ë–û–¢–ê! üëç";
                message = `–î–∏–∞–Ω–æ—á–∫–∞, —Ç—ã —Ö–æ—Ä–æ—à–æ –ø–æ—Ä–∞–±–æ—Ç–∞–ª–∞! –¢—ã –ø–æ–π–º–∞–ª–∞ ${caughtCount} –ø–æ–¥–∞—Ä–∫–æ–≤ –∏–∑ ${targetGifts}. –ì–∞—Ä—Ñ–∏–ª–¥ —É–≤–µ—Ä–µ–Ω, —á—Ç–æ –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ —Ç—ã —Å–ø—Ä–∞–≤–∏—à—å—Å—è –µ—â–µ –ª—É—á—à–µ!`;
            } else {
                congrats = "üéÑ –ü–û–ü–†–û–ë–£–ô –ï–©–Å –†–ê–ó! üéÑ";
                message = `–î–∏–∞–Ω–æ—á–∫–∞, —Ç—ã –ø–æ–π–º–∞–ª–∞ ${caughtCount} –ø–æ–¥–∞—Ä–∫–æ–≤ –∏–∑ ${targetGifts}. –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑, –∏ —É —Ç–µ–±—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–ª—É—á–∏—Ç—Å—è –ª—É—á—à–µ! –ì–∞—Ä—Ñ–∏–ª–¥ –≤–µ—Ä–∏—Ç –≤ —Ç–µ–±—è!`;
            }
            
            congratsMessage.textContent = congrats;
            resultMessage.textContent = message;
        }
        
        // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã
        function restartGame() {
            // –û—á–∏—Å—Ç–∫–∞ —Ç–∞–π–º–µ—Ä–æ–≤
            clearInterval(gameTimer);
            clearInterval(giftTimer);
            
            // –û—á–∏—Å—Ç–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤
            gifts.forEach(gift => gift.element.remove());
            gifts = [];
            
            // –°–∫—Ä—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            resultsSection.style.display = 'none';
            
            // –ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–π –∏–≥—Ä—ã
            startGame();
        }
        
        // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
        function goToNextPage() {
            window.location.href = 'index4.html';
        }
        
        // –ó–∞–º–µ–Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ì–∞—Ä—Ñ–∏–ª–¥–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏
        function handleImageError() {
            document.getElementById('garfieldImage').src = 'images/icon.png';
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            createSnowflakes();
            loadPreviousResults();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            mainStartBtn.addEventListener('click', startGame);
            pauseBtn.addEventListener('click', pauseGame);
            restartBtn.addEventListener('click', restartGame);
            resumeBtn.addEventListener('click', resumeGame);
            restartGameBtn.addEventListener('click', restartGame);
            nextPageBtn.addEventListener('click', goToNextPage);
            document.getElementById('garfieldImage').addEventListener('error', handleImageError);
            
            // –§–æ–∫—É—Å –Ω–∞ –∏–≥—Ä–æ–≤–æ–π –æ–±–ª–∞—Å—Ç–∏ –¥–ª—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            gameArea.tabIndex = 0;
            gameArea.addEventListener('click', () => {
                gameArea.focus();
            });
            
            // –ù–∞—á–∞–ª–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –∫–æ—Ä–∑–∏–Ω–∫–∏
            updateCatcherPosition();
        }
        
        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('DOMContentLoaded', init);
        
        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ iOS –ø—Ä–∏ –¥–≤–æ–π–Ω–æ–º —Ç–∞–ø–µ
        let lastTouchEnd = 0;
        document.addEventListener('touchend', (e) => {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                e.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ index4.html –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        window.addEventListener('load', function() {
            fetch('index4.html')
                .then(response => {
                    if (!response.ok) {
                        console.warn('–°—Ç—Ä–∞–Ω–∏—Ü–∞ index4.html –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –°–æ–∑–¥–∞–π—Ç–µ –µ—ë –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞.');
                    }
                })
                .catch(error => {
                    console.warn('–°—Ç—Ä–∞–Ω–∏—Ü–∞ index4.html –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –°–æ–∑–¥–∞–π—Ç–µ –µ—ë –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞.');
                });
        });
    </script>
</body>
</html>